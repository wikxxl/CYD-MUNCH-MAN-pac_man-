# CYD-MUNCH-MAN-pac_man-
# ğŸ® CYD MUNCH MAN

A full-featured Munch Man clone for the **ESP32 Cheap Yellow Display (CYD)** board (ESP32-2432S028R).

![Version](https://img.shields.io/badge/version-1.2-blue)
![Platform](https://img.shields.io/badge/platform-ESP32--CYD-yellow)
![License](https://img.shields.io/badge/license-MIT-green)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚[â‰¡] SCORE 1250  ğŸŸ¡ğŸŸ¡ğŸŸ¡  LV2  PWR 5sâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚
â”‚ â–ˆâ—‹Â·Â·Â·Â·Â·â–ˆ      â–ˆ      â–ˆÂ·Â·Â·Â·Â·â—‹â–ˆ     â”‚
â”‚ â–ˆÂ·â–ˆâ–ˆâ–ˆÂ·â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆÂ·â–ˆâ–ˆâ–ˆÂ·â–ˆâ–ˆ      â”‚
â”‚ â–ˆÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·â–ˆ   â”‚
â”‚ â–ˆÂ·â–ˆâ–ˆÂ·â–ˆâ–ˆÂ·ğŸ”´Â·Â·Â·Â·ğŸŸ¡Â·Â·Â·Â·ğŸ”µÂ·â–ˆâ–ˆÂ·â–ˆâ–ˆÂ·â–ˆ   â”‚
â”‚ â–ˆÂ·Â·Â·Â·â–ˆâ–ˆÂ·Â·Â·Â·Â·â–ˆâ–ˆÂ·Â·Â·Â·Â·â–ˆâ–ˆÂ·Â·Â·Â·Â·â–ˆ       â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆÂ·â–ˆâ–ˆâ–ˆâ–ˆÂ·  ğŸ‘»ğŸ‘»  Â·â–ˆâ–ˆâ–ˆâ–ˆÂ·â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â”‚
â”‚     Â·â–ˆâ–ˆÂ·    ğŸ’    Â·â–ˆâ–ˆÂ·            â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆÂ·â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆÂ·â–ˆâ–ˆÂ·â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     â”‚
â”‚ â–ˆâ—‹Â·Â·Â·Â·Â·Â·Â·Â·Â·ğŸŸ Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·â—‹â–ˆ     â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âœ¨ Features

### ğŸ•¹ï¸ Gameplay
- **Classic Munch Man mechanics** - dots, power pellets, ghosts
- **3 levels** with increasing difficulty
- **5 fruit types** - Cherry, Strawberry, Orange, Apple, Melon (100-1000 pts)
- **Smart ghost AI** - each ghost has unique behavior
- **Power mode** with blinking ghosts warning

### ğŸ‘» Ghost AI (like original!)
| Ghost | Color | Behavior |
|-------|-------|----------|
| **Blinky** | ğŸ”´ Red | Direct chase - always follows player |
| **Pinky** | ğŸ©· Pink | Ambush - targets 4 tiles ahead of player |
| **Inky** | ğŸ”µ Cyan | Unpredictable - random movements |
| **Clyde** | ğŸŸ  Orange | Shy - chases when far, flees when close |

### ğŸ’ Fruits
| Level | Fruit | Points |
|-------|-------|--------|
| 1 | ğŸ’ Cherry | 100 |
| 2 | ğŸ“ Strawberry | 300 |
| 3 | ğŸŠ Orange | 500 |
| 4 | ğŸ Apple | 700 |
| 5 | ğŸˆ Melon | 1000 |

### âš™ï¸ Settings (saved to SD card)
- **Sound** - ON/OFF toggle
- **Volume** - 0-100% (PWM duty cycle)
- **Touch Sensitivity** - Low/Medium/High
- **Difficulty** - Easy/Normal/Hard (ghost speed)
- **Player Speed** - 60-150ms

### ğŸ› ï¸ Extras
- **Built-in map editor** - create your own levels!
- **Touchscreen controls** - swipe to change direction
- **Persistent settings** - saved to SD card
- **Level progression** - ghosts get 5% faster each level

## ğŸ“‹ Requirements

### Hardware
- **ESP32-2432S028R** (Cheap Yellow Display / CYD)
- **MicroSD card** (for levels and settings)
- **Passive buzzer** on GPIO 4 (optional, requires removing RGB LED)

### Software
- Arduino IDE 1.8.x or 2.x
- ESP32 board package
- TFT_eSPI library

## ğŸ“¦ Installation

### 1. Clone repository
```bash
git clone https://github.com/yourusername/cyd-munchman.git
```

### 2. Configure TFT_eSPI
Edit `User_Setup.h` in your TFT_eSPI library folder:

```cpp
#define ILI9341_DRIVER
#define TFT_WIDTH  240
#define TFT_HEIGHT 320

#define TFT_MISO 12
#define TFT_MOSI 13
#define TFT_SCLK 14
#define TFT_CS   15
#define TFT_DC    2
#define TFT_RST  -1
#define TFT_BL   21

#define TOUCH_CS 33

#define SPI_FREQUENCY  40000000
#define SPI_READ_FREQUENCY  20000000
#define SPI_TOUCH_FREQUENCY  2500000
```

### 3. Prepare SD Card
Create folder structure:
```
SD Card/
â””â”€â”€ gry/
    â””â”€â”€ munchman/
        â”œâ”€â”€ level1.txt
        â”œâ”€â”€ level2.txt
        â””â”€â”€ level3.txt
```

Copy level files from `levels/` folder to SD card.

### 4. Upload
1. Open `src/cyd_munchman.ino` in Arduino IDE
2. Select board: **ESP32 Dev Module**
3. Upload!

## ğŸ® Controls

### Main Menu
- **PLAY** - Start game
- **EDITOR** - Open map editor
- **SETUP** - Configure settings

### In Game
- **Swipe** anywhere to change direction
- **[â‰¡] button** (top-left) - Return to menu

### Map Editor
- **Touch cell** - Place/remove element
- **[<] [>]** - Change brush type
- **[CLR]** - Clear map
- **[SAVE]** - Save to SD card
- **[TEST]** - Test play the map
- **[EXIT]** - Return to menu

## ğŸ“ Project Structure

```
cyd-munchman/
â”œâ”€â”€ README.md
â”œâ”€â”€ LICENSE
â”œâ”€â”€ src/
â”‚   â””â”€â”€ cyd_munchman.ino      # Main game code (1700+ lines)
â”œâ”€â”€ levels/
â”‚   â”œâ”€â”€ level1.txt          # Classic maze
â”‚   â”œâ”€â”€ level2.txt          # More tunnels
â”‚   â””â”€â”€ level3.txt          # Challenge maze
â””â”€â”€ docs/
    â””â”€â”€ wiring.md           # Hardware connections
```

## ğŸ—ºï¸ Map Format

Maps are 26x17 text files with cell types:

| Code | Element |
|------|---------|
| 0 | Empty (tunnel) |
| 1 | Wall |
| 5 | Dot |
| 6 | Power pellet |
| 7 | Ghost spawn |
| 8 | Fruit spawn |
| 9 | Player start |

Example:
```
11111111111111111111111111
16555555555555555555555561
15111511111111111111151151
...
```

## ğŸ”§ Hardware Mod (Optional)

To enable sound, remove the RGB LED and connect a passive buzzer:
- **GPIO 4** â†’ Buzzer (+)
- **GND** â†’ Buzzer (-)

After removing RGB LED, these pins become available:
- GPIO 4 (Red LED) â†’ **Buzzer**
- GPIO 16 (Green LED) â†’ Free
- GPIO 17 (Blue LED) â†’ Free

## ğŸ“Š Technical Details

| Parameter | Value |
|-----------|-------|
| Display | 320x240 px, ILI9341 |
| Cell size | 12x12 px |
| Map size | 26x17 cells |
| Game area | 312x204 px |
| Ghosts | 4 |
| Max levels | Unlimited (SD card) |
| Code size | ~1700 lines |

## ğŸ¯ Scoring

| Action | Points |
|--------|--------|
| Dot | 1 |
| Power pellet | 10 |
| Ghost (1st) | 200 |
| Ghost (2nd) | 400 |
| Ghost (3rd) | 800 |
| Ghost (4th) | 1600 |
| Fruit | 100-1000 |

## ğŸ“œ Version History

### v1.2 (Current)
- Added 5 fruit types with unique graphics
- Implemented smart ghost AI (Blinky, Pinky, Inky, Clyde)
- Added level system with 3 maps
- Ghosts blink when power mode ending
- Fruit spawns during gameplay
- Level indicator in UI

### v1.1
- Added volume control (PWM)
- Added MENU button in game
- Optimized UI refresh (only updates changes)
- Settings saved to SD card

### v1.0
- Initial release
- Basic Munch Man gameplay
- Map editor
- Touch controls

## ğŸ¤ Contributing

Contributions are welcome! Feel free to:
- Submit bug reports
- Create new levels
- Suggest features
- Submit pull requests

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ™ Acknowledgments

- Inspired by classic arcade maze games
- [TFT_eSPI](https://github.com/Bodmer/TFT_eSPI) library by Bodmer
- [ESP32 CYD Community](https://github.com/witnessmenow/ESP32-Cheap-Yellow-Display)

---

**Made with â¤ï¸ for the ESP32 CYD community**
